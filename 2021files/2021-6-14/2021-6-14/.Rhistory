library(tidyverse)
library(ggvenn)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>%
select(-value) %>% rename(sample=name)
read.delim("otu.xls",check.names=F) %>%
as_tibble()
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0)
df <- read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name)
df
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
pivot_wider(-ASv)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
pivot_wider()
read.delim("otu.xls",check.names=F,row.names = 1) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
pivot_wider()
read.delim("otu.xls",check.names=F,row.names = 1) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name)
read.delim("otu.xls",check.names=F,row.names = 1) %>%
as_tibble() %>% pivot_longer() %>%
filter(value !=0) %>% rename(sample=name)
read.delim("otu.xls",check.names=F,row.names = 1) %>%
as_tibble() %>% pivot_longer()
read.delim("otu.xls",check.names=F,row.names = 1) %>%
as_tibble()
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
pivot_wider(-value)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
pivot_wider(.,
names_from =name,
values_from = ASV)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
pivot_wider(.,names_from =name,
values_from = ASV)
read.delim("otu.xls",check.names=) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
pivot_wider(.,names_from =name,
values_from = ASV)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
LT <- df %>% left_join(group,by="sample") %>%
filter(group=="LTS1") %>% rename(LT=ASV)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
pivot_wider(names_from = name, values_from =ASvseen)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
pivot_wider(names_from = name, values_from =ASV)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
mutate(value_1=ASV)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
mutate(value_1=ASV) %>%
pivot_wider(names_from = name, values_from =value_1)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
mutate(value_1=ASV) %>%
select(-value)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
mutate(value_1=ASV) %>%
select(-value) %>%
pivot_wider(names_from = name, values_from =value_1)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
mutate(value_1=ASV) %>%
select(-value) %>%
pivot_wider(names_from = sample, values_from =value_1)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
select(-value) %>%
pivot_wider(names_from = sample, values_from =ASv)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
select(-value) %>%
pivot_wider(names_from = sample, values_from =ASV)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
mutate(value_1=ASV) %>%
select(-value) %>%
pivot_wider(names_from = sample, values_from =ASv)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
mutate(value_1=ASV) %>%
select(-value) %>%
pivot_wider(names_from = sample, values_from =value_1)
read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
mutate(value_1=ASV) %>%
select(-value) %>%
pivot_wider(names_from = sample, values_from =value_1) %>%
view()
df <- read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name) %>%
mutate(value_1=ASV) %>%
select(-value) %>%
pivot_wider(names_from = sample, values_from =value_1)
df$A_1
df$D_1
df$A_1
df$A_1 %>% as_tibble()
df$A_1 %>% as_tibble() %>% drop_na()
df$A_1 %>% as_tibble()
df$A_1 %>% as_tibble() %>% drop_na()
A1 <- df$A_1 %>% as_tibble() %>% drop_na()
B1 <- df$B_1 %>% as_tibble() %>% drop_na()
C1 <- df$C_1 %>% as_tibble() %>% drop_na()
D1 <- df$D_1 %>% as_tibble() %>% drop_na()
list(A1,B1,C1,D1) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
stroke_size=0.6,
stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A", "#984EA3"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
list(A1,B1,C1,D1)
list(A1,B1,C1,D1) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
stroke_size=0.6,
stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
df$A_1
A1 <- df$A_1 %>% drop_na()
A1 <- df$A_1 %>% class()
df$A_1 %>% class()
A1 <- df$A_1 %>% as_tibble() %>% drop_na() %>% as.character()
A1 <- df$A_1 %>% as_tibble() %>% drop_na() %>% as.character()
B1 <- df$B_1 %>% as_tibble() %>% drop_na() %>% as.character()
C1 <- df$C_1 %>% as_tibble() %>% drop_na() %>% as.character()
D1 <- df$D_1 %>% as_tibble() %>% drop_na() %>% as.character()
list(A1,B1,C1,D1) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
stroke_size=0.6,
stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
df$A_1
A1
df$A_1
df <- read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name)
df
df %>% filter(sample=="A_1")
A <- df %>% filter(sample=="A_1")
B <- df %>% filter(sample=="B_1")
C <- df %>% filter(sample=="C_1")
D <- df %>% filter(sample=="D_1")
list(A,B,C,D) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
stroke_size=0.6,
stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
list(A$ASV,B$ASV,C$ASV,D$ASV) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
stroke_size=0.6,
stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
A <- df %>% filter(sample=="A_1")
B <- df %>% filter(sample=="B_1")
C <- df %>% filter(sample=="C_1")
D <- df %>% filter(sample=="D_1")
list(A$ASV,B$ASV,C$ASV,D$ASV) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
stroke_size=0.6,
stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
A$ASV
A
list(A$ASV,B$ASV,C$ASV,D$ASV) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
list(A=A$ASV,B=B$ASV,C=C$ASV,D=D$ASV) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
list(A=A$ASV,B=B$ASV,C=C$ASV,D=D$ASV) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
#  stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
list(A=A$ASV,B=B$ASV,C=C$ASV,D=D$ASV) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
#  stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
group <- read.delim("group.xls")
df %>% left_join(group,by="sample")
A <- df %>% left_join(group,by="sample") %>% filter(group=="A")
B <- df %>% left_join(group,by="sample") %>% filter(group=="B")
C <- df %>% left_join(group,by="sample") %>% filter(group=="C")
D <- df %>% left_join(group,by="sample") %>% filter(group=="D")
list(A=A$ASV,B=B$ASV,C=C$ASV,D=D$ASV) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
stroke_size=0.6,
stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A", "#984EA3"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
library(tidyverse)
library(ggvenn)
group <- read.delim("group.xls")
df <- read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name)
df %>% filter(sample=="A_1")
library(tidyverse)
library(ggvenn)
group <- read.delim("group.xls")
library(tidyverse)
library(ggvenn)
group <- read.delim("group.xls")
df <- read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name)
list(A=df %>% filter(sample=="A_1") %>% select(ASV),
B=df %>% filter(sample=="B_1") %>% select(ASV),
C=df %>% filter(sample=="C_1") %>% select(ASV),
D=df %>% filter(sample=="D_1") %>% select(ASV)) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
#  stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
df %>% filter(sample=="A_1") %>% select(ASV)
library(tidyverse)
library(ggvenn)
group <- read.delim("group.xls")
df <- read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name)
A <- df %>% filter(sample=="A_1")
B <- df %>% filter(sample=="B_1")
C <- df %>% filter(sample=="C_1")
D <- df %>% filter(sample=="D_1")
list(A=A$ASV,B=B$ASV,C=C$ASV,D=D$ASV) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
#  stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
A <- df %>% left_join(group,by="sample") %>% filter(group=="A")
B <- df %>% left_join(group,by="sample") %>% filter(group=="B")
C <- df %>% left_join(group,by="sample") %>% filter(group=="C")
D <- df %>% left_join(group,by="sample") %>% filter(group=="D")
list(A=A$ASV,B=B$ASV,C=C$ASV,D=D$ASV) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
stroke_size=0.6,
stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A", "#984EA3"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
list(A=A$ASV,B=B$ASV,C=C$ASV,D=D$ASV) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
#  stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
A <- df %>% filter(sample=="A_1")
B <- df %>% filter(sample=="B_1")
C <- df %>% filter(sample=="C_1")
D <- df %>% filter(sample=="D_1")
list(A=A$ASV,B=B$ASV,C=C$ASV,D=D$ASV) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
#  stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
A <- df %>% left_join(group,by="sample") %>% filter(group=="A")
B <- df %>% left_join(group,by="sample") %>% filter(group=="B")
C <- df %>% left_join(group,by="sample") %>% filter(group=="C")
D <- df %>% left_join(group,by="sample") %>% filter(group=="D")
list(A=A$ASV,B=B$ASV,C=C$ASV,D=D$ASV) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
stroke_size=0.6,
stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A", "#984EA3"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
group <- read.delim("group.xls")
df <- read.delim("otu.xls",check.names=F) %>%
as_tibble() %>% pivot_longer(-ASV) %>%
filter(value !=0) %>% rename(sample=name)
A <- df %>% filter(sample=="A_1")
B <- df %>% filter(sample=="B_1")
C <- df %>% filter(sample=="C_1")
D <- df %>% filter(sample=="D_1")
list(A=A$ASV,B=B$ASV,C=C$ASV,D=D$ASV) %>%
ggvenn(show_percentage = T,show_elements = F,label_sep = ",",
digits = 1,stroke_color = "white",stroke_alpha=1,
#  stroke_linetype="dashed",
fill_color = c("#E41A1C", "#1E90FF", "#FF8C00",
"#4DAF4A"),
set_name_color = c("#E41A1C", "#1E90FF","#FF8C00","#4DAF4A"))
A <- df %>% left_join(group,by="sample") %>% filter(group=="A")
